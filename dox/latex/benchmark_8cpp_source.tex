\hypertarget{benchmark_8cpp}{\section{benchmark.\-cpp}
\label{benchmark_8cpp}\index{benchmark.\-cpp@{benchmark.\-cpp}}
}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#include "\hyperlink{benchmark_8hh}{Benchmark/benchmark.hh}"}
00002 \textcolor{preprocessor}{#include <cstdlib>}
00003 \textcolor{preprocessor}{#include <iostream>}
\hypertarget{benchmark_8cpp_source_l00008}{}\hyperlink{class_benchmark_a408a44a1d64e45b647ef6dbba2f2c3d3}{00008} \textcolor{keywordtype}{void} \hyperlink{class_benchmark_a408a44a1d64e45b647ef6dbba2f2c3d3}{Benchmark::notify}()\{
00009   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i=0; i<\hyperlink{class_subject_ad8f878ad28617e54691c4f74cd84cbe0}{obss}.\hyperlink{class_stack_a0d5ba9f716bd2c43a07cc638b8ee166f}{size}();i++)
00010     \hyperlink{class_subject_ad8f878ad28617e54691c4f74cd84cbe0}{obss}[i]->update(\hyperlink{class_benchmark_a1d0eaa6febe9b7a7f5f5147e83f60910}{amount}, \hyperlink{class_benchmark_aa88092b6164ad7d1243162d3012f729a}{mean});
00011 \}
00012 
\hypertarget{benchmark_8cpp_source_l00013}{}\hyperlink{class_benchmark_ab65889d4c2df3eb503048ab1cc6e7413}{00013} \textcolor{keywordtype}{void} \hyperlink{class_benchmark_ab65889d4c2df3eb503048ab1cc6e7413}{Benchmark::stop\_Ctimer}()\{
00014   \hyperlink{class_timer_ac05cde2d44f1a1fc40554bf78a65fe0e}{stop\_timer}();
00015   \hyperlink{class_benchmark_a7130c0718e3a3ab2fea70285dab122a2}{total}+=\hyperlink{class_timer_ab07af01194380dc8df3f3791f9aa803a}{atime};
00016   \hyperlink{class_benchmark_a3a56c7dad0b21e490f3024d5d0027f31}{counter}++;
00017 \}
00018 
\hypertarget{benchmark_8cpp_source_l00019}{}\hyperlink{class_benchmark_ac4d5360d2850510913efe07cf957f4c1}{00019} \textcolor{keywordtype}{void} \hyperlink{class_benchmark_ac4d5360d2850510913efe07cf957f4c1}{Benchmark::calc\_mean}()\{
00020   \hyperlink{class_benchmark_aa88092b6164ad7d1243162d3012f729a}{mean}=\hyperlink{class_benchmark_a7130c0718e3a3ab2fea70285dab122a2}{total}/\hyperlink{class_benchmark_a3a56c7dad0b21e490f3024d5d0027f31}{counter};
00021   std::cout << \hyperlink{class_benchmark_aa88092b6164ad7d1243162d3012f729a}{mean} << \textcolor{stringliteral}{"  "} << \hyperlink{class_benchmark_a1d0eaa6febe9b7a7f5f5147e83f60910}{amount} << \textcolor{stringliteral}{"    "} << std::endl;
00022   \hyperlink{class_benchmark_a408a44a1d64e45b647ef6dbba2f2c3d3}{notify}();
00023 \}
00024 
00025 \textcolor{keyword}{template}<\textcolor{keyword}{typename} type>
\hypertarget{benchmark_8cpp_source_l00026}{}\hyperlink{class_benchmark_ad5d8a563d9b9163758ae04d064cc38cb}{00026} \textcolor{keywordtype}{void} \hyperlink{class_benchmark_ad5d8a563d9b9163758ae04d064cc38cb}{Benchmark::runBenchmarkSort}(\textcolor{keywordtype}{void} (*f)(
      \hyperlink{class_iterable}{Iterable<type>}&, \textcolor{keywordtype}{int}, \textcolor{keywordtype}{int}), \hyperlink{class_iterable}{Iterable<type>} &container, \textcolor{keywordtype}{int} dataCount, \textcolor{keywordtype}{int} 
      repeats)\{
00027   \hyperlink{class_benchmark_a1d0eaa6febe9b7a7f5f5147e83f60910}{amount} = dataCount;
00028   \hyperlink{class_benchmark_a7130c0718e3a3ab2fea70285dab122a2}{total}=0; 
00029   \hyperlink{class_benchmark_aa88092b6164ad7d1243162d3012f729a}{mean}=0;
00030   \hyperlink{class_benchmark_a3a56c7dad0b21e490f3024d5d0027f31}{counter}=0;
00031   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=1; i<=repeats; i++)\{
00032     \hyperlink{class_timer_a83d4b873e3275a61004b5679672045c0}{start\_timer}();
00033     (*f)(container, 0, \hyperlink{class_benchmark_a1d0eaa6febe9b7a7f5f5147e83f60910}{amount}-1);
00034     \hyperlink{class_benchmark_ab65889d4c2df3eb503048ab1cc6e7413}{stop\_Ctimer}();
00035   \}
00036   \hyperlink{class_benchmark_ac4d5360d2850510913efe07cf957f4c1}{calc\_mean}();
00037 \}
00038 
\hypertarget{benchmark_8cpp_source_l00039}{}\hyperlink{class_benchmark_ae9e23e7f4cf294fad57f5c98298bf874}{00039} \textcolor{keywordtype}{void} \hyperlink{class_benchmark_ae9e23e7f4cf294fad57f5c98298bf874}{Benchmark::runBenchmarkSearchGraph}(\textcolor{keywordtype}{void} (
      \hyperlink{class_graph}{Graph}::*f)(), \hyperlink{class_graph}{Graph} graph, \textcolor{keywordtype}{int} dataCount, \textcolor{keywordtype}{int} repeats)\{
00040   \hyperlink{class_benchmark_a1d0eaa6febe9b7a7f5f5147e83f60910}{amount} = dataCount;
00041   \hyperlink{class_benchmark_a7130c0718e3a3ab2fea70285dab122a2}{total}=0; 
00042   \hyperlink{class_benchmark_aa88092b6164ad7d1243162d3012f729a}{mean}=0;
00043   \hyperlink{class_benchmark_a3a56c7dad0b21e490f3024d5d0027f31}{counter}=0;
00044 
00045   \textcolor{comment}{/* DANE - spojny losowy (*/}
00046   \textcolor{keywordflow}{if}(dataCount>1)
00047     graph.\hyperlink{class_graph_a98e8eaa5f6a140aefc67a9bf07023c27}{insertE}(0, 1);
00048   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j=1; j<dataCount; j++)
00049     graph.\hyperlink{class_graph_a98e8eaa5f6a140aefc67a9bf07023c27}{insertE}(j, rand()%j);
00050   \textcolor{comment}{/* DANE - 0 ze wszystkimi }
00051 \textcolor{comment}{     for(int j=0; j<dataCount; j++)}
00052 \textcolor{comment}{     graph.insertE(0,j);*/}
00053   \textcolor{comment}{/* DANE - LISTA }
00054 \textcolor{comment}{     for(int j=0; j<=dataCount-2; j++)\{}
00055 \textcolor{comment}{     graph.insertE(j, j+1);}
00056 \textcolor{comment}{     \}*/}
00057   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=1; i<=repeats; i++)\{
00058     \hyperlink{class_timer_a83d4b873e3275a61004b5679672045c0}{start\_timer}();
00059     (graph.*f)();
00060     \hyperlink{class_benchmark_ab65889d4c2df3eb503048ab1cc6e7413}{stop\_Ctimer}();
00061   \}
00062   \hyperlink{class_benchmark_ac4d5360d2850510913efe07cf957f4c1}{calc\_mean}();
00063 \}
00064 
00065 
00066 
\end{DoxyCode}
