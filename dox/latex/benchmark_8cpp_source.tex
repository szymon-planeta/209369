\hypertarget{benchmark_8cpp}{\section{benchmark.\-cpp}
\label{benchmark_8cpp}\index{benchmark.\-cpp@{benchmark.\-cpp}}
}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#include "\hyperlink{benchmark_8hh}{benchmark.hh}"}
00002 
\hypertarget{benchmark_8cpp_source_l00007}{}\hyperlink{class_benchmark_a684ddcbdd22608838da1ad23f1fcc2ce}{00007} \textcolor{keywordtype}{void} \hyperlink{class_benchmark_a684ddcbdd22608838da1ad23f1fcc2ce}{Benchmark::rozpocznij\_pomiar}()\{
00008   gettimeofday(&\hyperlink{class_benchmark_ab951e55dc4470926e0eb0761804f13bc}{t1}, NULL);
00009 \}
00010 
\hypertarget{benchmark_8cpp_source_l00011}{}\hyperlink{class_benchmark_a3f4b4595a3d1145d238f5b3c8486d875}{00011} \textcolor{keywordtype}{void} \hyperlink{class_benchmark_a3f4b4595a3d1145d238f5b3c8486d875}{Benchmark::zakoncz\_pomiar}()\{
00012   gettimeofday(&\hyperlink{class_benchmark_a2b145dd2458fea33d6df41f310058bec}{t2}, NULL);
00013   \hyperlink{class_benchmark_ab72b3cbe324970fd8c738f03718d52fc}{czas\_pomiaru} = (\hyperlink{class_benchmark_a2b145dd2458fea33d6df41f310058bec}{t2}.tv\_sec - \hyperlink{class_benchmark_ab951e55dc4470926e0eb0761804f13bc}{t1}.tv\_sec) * 1000.0;      \textcolor{comment}{// sec to ms}
00014   \hyperlink{class_benchmark_ab72b3cbe324970fd8c738f03718d52fc}{czas\_pomiaru} += (\hyperlink{class_benchmark_a2b145dd2458fea33d6df41f310058bec}{t2}.tv\_usec - \hyperlink{class_benchmark_ab951e55dc4470926e0eb0761804f13bc}{t1}.tv\_usec) / 1000.0;   \textcolor{comment}{// us to ms}
00015 \}
00016 
\hypertarget{benchmark_8cpp_source_l00017}{}\hyperlink{class_benchmark_ad2f9d4a8ee5a33de5261c2b2eff3d87a}{00017} \textcolor{keywordtype}{double} \hyperlink{class_benchmark_ad2f9d4a8ee5a33de5261c2b2eff3d87a}{Benchmark::testuj}(\hyperlink{class_program}{Program} &program, \textcolor{keywordtype}{char}* dane, \textcolor{keywordtype}{int} ilosc\_danych, \textcolor{keywordtype}{int} 
      ilosc\_testow)\{
00018   \textcolor{keywordtype}{double} suma=0;
00019   \textcolor{keywordtype}{double} srednia=0;
00020   ofstream wyniki;
00021   wyniki.open(\textcolor{stringliteral}{"wyniki.csv"},ios::app);
00022   
00023   \textcolor{comment}{//if(program.wczytaj\_dane(dane,ilosc\_danych)==false)\{}
00024   \textcolor{comment}{//     cerr<<"Niewystarczajaca ilosc danych!"<<endl;}
00025   \textcolor{comment}{//    return 0;}
00026   \textcolor{comment}{// \}}
00027   \textcolor{comment}{//char* dane\_wy = (char*)"dane\_wy.dat"; //do zapisu do pliku}
00028   \textcolor{comment}{//program.wykonaj\_program();}
00029   \textcolor{comment}{//rozpocznij\_pomiar();}
00030   \textcolor{comment}{//program.test();}
00031   \textcolor{comment}{//program.zapisz\_dane(dane\_wy);//zapisywanie wynikow do pliku}
00032   \textcolor{comment}{//zakoncz\_pomiar();}
00033   \textcolor{comment}{//suma+=czas\_pomiaru;}
00034   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=1;i<ilosc\_testow;i++)\{
00035     \textcolor{comment}{//program.wczytaj\_dane(dane,ilosc\_danych); //zawsze dane od poczatku}
00036     \hyperlink{class_benchmark_a684ddcbdd22608838da1ad23f1fcc2ce}{rozpocznij\_pomiar}();
00037     \textcolor{comment}{//program.wykonaj\_program();}
00038     program.\hyperlink{class_program_ae866e995ea153f83031107c194f604e5}{test}();
00039     \hyperlink{class_benchmark_a3f4b4595a3d1145d238f5b3c8486d875}{zakoncz\_pomiar}();
00040     suma+=\hyperlink{class_benchmark_ab72b3cbe324970fd8c738f03718d52fc}{czas\_pomiaru};
00041   \}
00042   srednia=suma/(ilosc\_testow);
00043   wyniki<<endl<<ilosc\_danych<<\textcolor{stringliteral}{","}<<srednia;
00044   wyniki.close();
00045   \textcolor{keywordflow}{return} srednia;
00046 \}
00047 
\hypertarget{benchmark_8cpp_source_l00048}{}\hyperlink{class_benchmark_ac8fa0356657b4a1ffd46df6ae7fd78d0}{00048} \textcolor{keywordtype}{double} \hyperlink{class_benchmark_ac8fa0356657b4a1ffd46df6ae7fd78d0}{Benchmark::testuj\_strukture}(\hyperlink{class_program}{Program} &program,\textcolor{keywordtype}{char}* dane, \textcolor{keywordtype}{int} 
      ilosc\_danych, \textcolor{keywordtype}{int} ilosc\_testow)\{
00049   \textcolor{keywordtype}{double} suma=0;
00050   \textcolor{keywordtype}{double} srednia=0;
00051   ofstream wyniki;
00052   wyniki.open(\textcolor{stringliteral}{"wyniki.csv"},ios::app);
00053   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=1;i<ilosc\_testow;i++)\{
00054     \hyperlink{class_benchmark_a684ddcbdd22608838da1ad23f1fcc2ce}{rozpocznij\_pomiar}();
00055     program.\hyperlink{class_program_ae866e995ea153f83031107c194f604e5}{test}();
00056     \hyperlink{class_benchmark_a3f4b4595a3d1145d238f5b3c8486d875}{zakoncz\_pomiar}();
00057     suma+=\hyperlink{class_benchmark_ab72b3cbe324970fd8c738f03718d52fc}{czas\_pomiaru};
00058   \}
00059   srednia=suma/(ilosc\_testow);
00060   wyniki<<endl<<ilosc\_danych<<\textcolor{stringliteral}{","}<<srednia;
00061   wyniki.close();
00062   \textcolor{keywordflow}{return} srednia;
00063  
00064 \}
\end{DoxyCode}
